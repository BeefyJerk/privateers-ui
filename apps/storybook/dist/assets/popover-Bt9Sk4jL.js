import{j as c}from"./jsx-runtime-D_zvdyIk.js";import{c as H}from"./cn-BB8OEnXs.js";import{r as p}from"./index-oxIuDU2I.js";import{c as m}from"./index-DW48STyt.js";import{u as b,b as K}from"./index-DUCbCopP.js";import{c as U}from"./index-CT8sdSFl.js";import{D as W}from"./index-in0cNzgu.js";import{h as Z,R as B,u as J,F as Q}from"./index-p7jMBqQJ.js";import{u as X}from"./index-D29R196x.js";import{R as Y,A as w,c as E,C as ee,a as oe}from"./index-B8ntdKDJ.js";import{P as re}from"./index-BNiOkJqc.js";import{P as j}from"./index-CX8F-FzP.js";import{P as F}from"./index-BosE-V80.js";import{u as te}from"./index-CupLWLmI.js";var _="Popover",[I]=U(_,[E]),P=E(),[ne,u]=I(_),S=e=>{const{__scopePopover:n,children:o,open:a,defaultOpen:r,onOpenChange:t,modal:s=!1}=e,i=P(n),l=p.useRef(null),[d,g]=p.useState(!1),[h,f]=te({prop:a,defaultProp:r??!1,onChange:t,caller:_});return c.jsx(Y,{...i,children:c.jsx(ne,{scope:n,contentId:X(),triggerRef:l,open:h,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(C=>!C),[f]),hasCustomAnchor:d,onCustomAnchorAdd:p.useCallback(()=>g(!0),[]),onCustomAnchorRemove:p.useCallback(()=>g(!1),[]),modal:s,children:o})})};S.displayName=_;var D="PopoverAnchor",T=p.forwardRef((e,n)=>{const{__scopePopover:o,...a}=e,r=u(D,o),t=P(o),{onCustomAnchorAdd:s,onCustomAnchorRemove:i}=r;return p.useEffect(()=>(s(),()=>i()),[s,i]),c.jsx(w,{...t,...a,ref:n})});T.displayName=D;var M="PopoverTrigger",k=p.forwardRef((e,n)=>{const{__scopePopover:o,...a}=e,r=u(M,o),t=P(o),s=b(n,r.triggerRef),i=c.jsx(F.button,{type:"button","aria-haspopup":"dialog","aria-expanded":r.open,"aria-controls":r.contentId,"data-state":G(r.open),...a,ref:s,onClick:m(e.onClick,r.onOpenToggle)});return r.hasCustomAnchor?i:c.jsx(w,{asChild:!0,...t,children:i})});k.displayName=M;var x="PopoverPortal",[ae,se]=I(x,{forceMount:void 0}),$=e=>{const{__scopePopover:n,forceMount:o,children:a,container:r}=e,t=u(x,n);return c.jsx(ae,{scope:n,forceMount:o,children:c.jsx(j,{present:o||t.open,children:c.jsx(re,{asChild:!0,container:r,children:a})})})};$.displayName=x;var v="PopoverContent",V=p.forwardRef((e,n)=>{const o=se(v,e.__scopePopover),{forceMount:a=o.forceMount,...r}=e,t=u(v,e.__scopePopover);return c.jsx(j,{present:a||t.open,children:t.modal?c.jsx(ie,{...r,ref:n}):c.jsx(pe,{...r,ref:n})})});V.displayName=v;var ce=K("PopoverContent.RemoveScroll"),ie=p.forwardRef((e,n)=>{const o=u(v,e.__scopePopover),a=p.useRef(null),r=b(n,a),t=p.useRef(!1);return p.useEffect(()=>{const s=a.current;if(s)return Z(s)},[]),c.jsx(B,{as:ce,allowPinchZoom:!0,children:c.jsx(q,{...e,ref:r,trapFocus:o.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:m(e.onCloseAutoFocus,s=>{var i;s.preventDefault(),t.current||(i=o.triggerRef.current)==null||i.focus()}),onPointerDownOutside:m(e.onPointerDownOutside,s=>{const i=s.detail.originalEvent,l=i.button===0&&i.ctrlKey===!0,d=i.button===2||l;t.current=d},{checkForDefaultPrevented:!1}),onFocusOutside:m(e.onFocusOutside,s=>s.preventDefault(),{checkForDefaultPrevented:!1})})})}),pe=p.forwardRef((e,n)=>{const o=u(v,e.__scopePopover),a=p.useRef(!1),r=p.useRef(!1);return c.jsx(q,{...e,ref:n,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:t=>{var s,i;(s=e.onCloseAutoFocus)==null||s.call(e,t),t.defaultPrevented||(a.current||(i=o.triggerRef.current)==null||i.focus(),t.preventDefault()),a.current=!1,r.current=!1},onInteractOutside:t=>{var l,d;(l=e.onInteractOutside)==null||l.call(e,t),t.defaultPrevented||(a.current=!0,t.detail.originalEvent.type==="pointerdown"&&(r.current=!0));const s=t.target;((d=o.triggerRef.current)==null?void 0:d.contains(s))&&t.preventDefault(),t.detail.originalEvent.type==="focusin"&&r.current&&t.preventDefault()}})}),q=p.forwardRef((e,n)=>{const{__scopePopover:o,trapFocus:a,onOpenAutoFocus:r,onCloseAutoFocus:t,disableOutsidePointerEvents:s,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:d,onInteractOutside:g,...h}=e,f=u(v,o),C=P(o);return J(),c.jsx(Q,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:r,onUnmountAutoFocus:t,children:c.jsx(W,{asChild:!0,disableOutsidePointerEvents:s,onInteractOutside:g,onEscapeKeyDown:i,onPointerDownOutside:l,onFocusOutside:d,onDismiss:()=>f.onOpenChange(!1),children:c.jsx(ee,{"data-state":G(f.open),role:"dialog",id:f.contentId,...C,...h,ref:n,style:{...h.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),L="PopoverClose",z=p.forwardRef((e,n)=>{const{__scopePopover:o,...a}=e,r=u(L,o);return c.jsx(F.button,{type:"button",...a,ref:n,onClick:m(e.onClick,()=>r.onOpenChange(!1))})});z.displayName=L;var le="PopoverArrow",de=p.forwardRef((e,n)=>{const{__scopePopover:o,...a}=e,r=P(o);return c.jsx(oe,{...r,...a,ref:n})});de.displayName=le;function G(e){return e?"open":"closed"}var ue=S,fe=T,ve=k,me=$,Pe=V,ge=z;const R=ue,y=ve,A=fe,O=ge;function N({className:e,align:n="center",sideOffset:o=4,...a}){return c.jsx(me,{children:c.jsx(Pe,{"data-slot":"popover-content",align:n,sideOffset:o,className:H("z-50 w-72 rounded-md border bg-popover p-4 text-popover-foreground shadow-md outline-none","data-[state=open]:animate-in data-[state=closed]:animate-out","data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0","data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95","data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2","data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",e),...a})})}try{R.displayName="Popover",R.__docgenInfo={description:"",displayName:"Popover",props:{}}}catch{}try{y.displayName="PopoverTrigger",y.__docgenInfo={description:"",displayName:"PopoverTrigger",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{N.displayName="PopoverContent",N.__docgenInfo={description:"",displayName:"PopoverContent",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{A.displayName="PopoverAnchor",A.__docgenInfo={description:"",displayName:"PopoverAnchor",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}try{O.displayName="PopoverClose",O.__docgenInfo={description:"",displayName:"PopoverClose",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}export{R as P,y as a,N as b};
