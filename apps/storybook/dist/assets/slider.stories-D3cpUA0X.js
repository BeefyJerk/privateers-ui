import{j as d}from"./jsx-runtime-D_zvdyIk.js";import{c as we}from"./cn-BB8OEnXs.js";import{r as u}from"./index-oxIuDU2I.js";import{c as oe}from"./index-BdQq_4o_.js";import{c as C}from"./index-DW48STyt.js";import{u as V}from"./index-DUCbCopP.js";import{c as ye}from"./index-CT8sdSFl.js";import{u as Re}from"./index-CupLWLmI.js";import{u as Pe}from"./index-B1j0MSSG.js";import{u as _e}from"./index-C2EvL8HN.js";import{u as De}from"./index-CgFYJLXR.js";import{P as B}from"./index-BosE-V80.js";import{c as Ee}from"./index-C8g06de2.js";import"./bundle-mjs-BNe0Xlio.js";import"./_commonjsHelpers-CqkleIqs.js";import"./index-Dlnm4PWD.js";import"./index-CXj9eu-u.js";import"./index-ChhEEol8.js";var se=["PageUp","PageDown"],ae=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ie={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},M="Slider",[U,Ce,je]=Ee(M),[ce]=ye(M,[je]),[Ve,H]=ce(M),le=u.forwardRef((e,t)=>{const{name:n,min:r=0,max:s=100,step:c=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:l=0,defaultValue:h=[r],value:S,onValueChange:i=()=>{},onValueCommit:m=()=>{},inverted:b=!1,form:y,...x}=e,p=u.useRef(new Set),f=u.useRef(0),v=o==="horizontal"?Me:Ne,[g=[],N]=Re({prop:S,defaultProp:h,onChange:w=>{var D;(D=[...p.current][f.current])==null||D.focus(),i(w)}}),z=u.useRef(g);function O(w){const R=Te(g,w);I(w,R)}function be(w){I(w,f.current)}function ve(){const w=z.current[f.current];g[f.current]!==w&&m(g)}function I(w,R,{commit:D}={commit:!1}){const W=Oe(c),L=Le(Math.round((w-r)/c)*c+r,W),A=oe(L,[r,s]);N((E=[])=>{const P=Be(E,A,R);if(ze(P,l*c)){f.current=P.indexOf(A);const X=String(P)!==String(E);return X&&D&&m(P),X?P:E}else return E})}return d.jsx(Ve,{scope:e.__scopeSlider,name:n,disabled:a,min:r,max:s,valueIndexToChangeRef:f,thumbs:p.current,values:g,orientation:o,form:y,children:d.jsx(U.Provider,{scope:e.__scopeSlider,children:d.jsx(U.Slot,{scope:e.__scopeSlider,children:d.jsx(v,{"aria-disabled":a,"data-disabled":a?"":void 0,...x,ref:t,onPointerDown:C(x.onPointerDown,()=>{a||(z.current=g)}),min:r,max:s,inverted:b,onSlideStart:a?void 0:O,onSlideMove:a?void 0:be,onSlideEnd:a?void 0:ve,onHomeKeyDown:()=>!a&&I(r,0,{commit:!0}),onEndKeyDown:()=>!a&&I(s,g.length-1,{commit:!0}),onStepKeyDown:({event:w,direction:R})=>{if(!a){const L=se.includes(w.key)||w.shiftKey&&ae.includes(w.key)?10:1,A=f.current,E=g[A],P=c*L*R;I(E+P,A,{commit:!0})}}})})})})});le.displayName=M;var[de,ue]=ce(M,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Me=u.forwardRef((e,t)=>{const{min:n,max:r,dir:s,inverted:c,onSlideStart:o,onSlideMove:a,onSlideEnd:l,onStepKeyDown:h,...S}=e,[i,m]=u.useState(null),b=V(t,v=>m(v)),y=u.useRef(void 0),x=Pe(s),p=x==="ltr",f=p&&!c||!p&&c;function _(v){const g=y.current||i.getBoundingClientRect(),N=[0,g.width],O=$(N,f?[n,r]:[r,n]);return y.current=g,O(v-g.left)}return d.jsx(de,{scope:e.__scopeSlider,startEdge:f?"left":"right",endEdge:f?"right":"left",direction:f?1:-1,size:"width",children:d.jsx(me,{dir:x,"data-orientation":"horizontal",...S,ref:b,style:{...S.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:v=>{const g=_(v.clientX);o==null||o(g)},onSlideMove:v=>{const g=_(v.clientX);a==null||a(g)},onSlideEnd:()=>{y.current=void 0,l==null||l()},onStepKeyDown:v=>{const N=ie[f?"from-left":"from-right"].includes(v.key);h==null||h({event:v,direction:N?-1:1})}})})}),Ne=u.forwardRef((e,t)=>{const{min:n,max:r,inverted:s,onSlideStart:c,onSlideMove:o,onSlideEnd:a,onStepKeyDown:l,...h}=e,S=u.useRef(null),i=V(t,S),m=u.useRef(void 0),b=!s;function y(x){const p=m.current||S.current.getBoundingClientRect(),f=[0,p.height],v=$(f,b?[r,n]:[n,r]);return m.current=p,v(x-p.top)}return d.jsx(de,{scope:e.__scopeSlider,startEdge:b?"bottom":"top",endEdge:b?"top":"bottom",size:"height",direction:b?1:-1,children:d.jsx(me,{"data-orientation":"vertical",...h,ref:i,style:{...h.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const p=y(x.clientY);c==null||c(p)},onSlideMove:x=>{const p=y(x.clientY);o==null||o(p)},onSlideEnd:()=>{m.current=void 0,a==null||a()},onStepKeyDown:x=>{const f=ie[b?"from-bottom":"from-top"].includes(x.key);l==null||l({event:x,direction:f?-1:1})}})})}),me=u.forwardRef((e,t)=>{const{__scopeSlider:n,onSlideStart:r,onSlideMove:s,onSlideEnd:c,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:l,...h}=e,S=H(M,n);return d.jsx(B.span,{...h,ref:t,onKeyDown:C(e.onKeyDown,i=>{i.key==="Home"?(o(i),i.preventDefault()):i.key==="End"?(a(i),i.preventDefault()):se.concat(ae).includes(i.key)&&(l(i),i.preventDefault())}),onPointerDown:C(e.onPointerDown,i=>{const m=i.target;m.setPointerCapture(i.pointerId),i.preventDefault(),S.thumbs.has(m)?m.focus():r(i)}),onPointerMove:C(e.onPointerMove,i=>{i.target.hasPointerCapture(i.pointerId)&&s(i)}),onPointerUp:C(e.onPointerUp,i=>{const m=i.target;m.hasPointerCapture(i.pointerId)&&(m.releasePointerCapture(i.pointerId),c(i))})})}),fe="SliderTrack",pe=u.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=H(fe,n);return d.jsx(B.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...r,ref:t})});pe.displayName=fe;var F="SliderRange",ge=u.forwardRef((e,t)=>{const{__scopeSlider:n,...r}=e,s=H(F,n),c=ue(F,n),o=u.useRef(null),a=V(t,o),l=s.values.length,h=s.values.map(m=>xe(m,s.min,s.max)),S=l>1?Math.min(...h):0,i=100-Math.max(...h);return d.jsx(B.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...r,ref:a,style:{...e.style,[c.startEdge]:S+"%",[c.endEdge]:i+"%"}})});ge.displayName=F;var Y="SliderThumb",he=u.forwardRef((e,t)=>{const n=Ce(e.__scopeSlider),[r,s]=u.useState(null),c=V(t,a=>s(a)),o=u.useMemo(()=>r?n().findIndex(a=>a.ref.current===r):-1,[n,r]);return d.jsx(Ie,{...e,ref:c,index:o})}),Ie=u.forwardRef((e,t)=>{const{__scopeSlider:n,index:r,name:s,...c}=e,o=H(Y,n),a=ue(Y,n),[l,h]=u.useState(null),S=V(t,_=>h(_)),i=l?o.form||!!l.closest("form"):!0,m=De(l),b=o.values[r],y=b===void 0?0:xe(b,o.min,o.max),x=Ke(r,o.values.length),p=m==null?void 0:m[a.size],f=p?ke(p,y,a.direction):0;return u.useEffect(()=>{if(l)return o.thumbs.add(l),()=>{o.thumbs.delete(l)}},[l,o.thumbs]),d.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${y}% + ${f}px)`},children:[d.jsx(U.ItemSlot,{scope:e.__scopeSlider,children:d.jsx(B.span,{role:"slider","aria-label":e["aria-label"]||x,"aria-valuemin":o.min,"aria-valuenow":b,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...c,ref:S,style:b===void 0?{display:"none"}:e.style,onFocus:C(e.onFocus,()=>{o.valueIndexToChangeRef.current=r})})}),i&&d.jsx(Se,{name:s??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:b},r)]})});he.displayName=Y;var Ae="RadioBubbleInput",Se=u.forwardRef(({__scopeSlider:e,value:t,...n},r)=>{const s=u.useRef(null),c=V(s,r),o=_e(t);return u.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==t&&S){const i=new Event("input",{bubbles:!0});S.call(a,t),a.dispatchEvent(i)}},[o,t]),d.jsx(B.input,{style:{display:"none"},...n,ref:c,defaultValue:t})});Se.displayName=Ae;function Be(e=[],t,n){const r=[...e];return r[n]=t,r.sort((s,c)=>s-c)}function xe(e,t,n){const c=100/(n-t)*(e-t);return oe(c,[0,100])}function Ke(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function Te(e,t){if(e.length===1)return 0;const n=e.map(s=>Math.abs(s-t)),r=Math.min(...n);return n.indexOf(r)}function ke(e,t,n){const r=e/2,c=$([0,50],[0,r]);return(r-c(t)*n)*n}function He(e){return e.slice(0,-1).map((t,n)=>e[n+1]-t)}function ze(e,t){if(t>0){const n=He(e);return Math.min(...n)>=t}return!0}function $(e,t){return n=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const r=(t[1]-t[0])/(e[1]-e[0]);return t[0]+r*(n-e[0])}}function Oe(e){return(String(e).split(".")[1]||"").length}function Le(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}var Ue=le,Fe=pe,Ye=ge,$e=he;function j({className:e,defaultValue:t,value:n,min:r=0,max:s=100,...c}){const o=n??t??[r,s];return d.jsxs(Ue,{"data-slot":"slider",defaultValue:t,value:n,min:r,max:s,className:we("relative flex w-full touch-none select-none items-center",e),...c,children:[d.jsx(Fe,{"data-slot":"slider-track",className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-muted",children:d.jsx(Ye,{"data-slot":"slider-range",className:"absolute h-full bg-primary"})}),Array.from({length:o.length},(a,l)=>d.jsx($e,{"data-slot":"slider-thumb",className:"block size-4 rounded-full border border-primary/50 bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"},l))]})}try{j.displayName="Slider",j.__docgenInfo={description:"",displayName:"Slider",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}const ut={title:"Primitives/Slider",component:j,tags:["autodocs"]},K={args:{defaultValue:[50],max:100,step:1},render:e=>d.jsx(j,{...e,className:"w-[60%]"})},T={args:{defaultValue:[25,75],max:100,step:1},render:e=>d.jsx(j,{...e,className:"w-[60%]"})},k={args:{defaultValue:[50],max:100,step:10},render:e=>d.jsx(j,{...e,className:"w-[60%]"})};var G,q,J;K.parameters={...K.parameters,docs:{...(G=K.parameters)==null?void 0:G.docs,source:{originalSource:`{
  args: {
    defaultValue: [50],
    max: 100,
    step: 1
  },
  render: args => <Slider {...args} className="w-[60%]" />
}`,...(J=(q=K.parameters)==null?void 0:q.docs)==null?void 0:J.source}}};var Q,Z,ee;T.parameters={...T.parameters,docs:{...(Q=T.parameters)==null?void 0:Q.docs,source:{originalSource:`{
  args: {
    defaultValue: [25, 75],
    max: 100,
    step: 1
  },
  render: args => <Slider {...args} className="w-[60%]" />
}`,...(ee=(Z=T.parameters)==null?void 0:Z.docs)==null?void 0:ee.source}}};var te,re,ne;k.parameters={...k.parameters,docs:{...(te=k.parameters)==null?void 0:te.docs,source:{originalSource:`{
  args: {
    defaultValue: [50],
    max: 100,
    step: 10
  },
  render: args => <Slider {...args} className="w-[60%]" />
}`,...(ne=(re=k.parameters)==null?void 0:re.docs)==null?void 0:ne.source}}};const mt=["Default","Range","WithSteps"];export{K as Default,T as Range,k as WithSteps,mt as __namedExportsOrder,ut as default};
