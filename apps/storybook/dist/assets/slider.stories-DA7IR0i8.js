import{j as d}from"./jsx-runtime-D_zvdyIk.js";import{c as we}from"./cn-BB8OEnXs.js";import{r as u}from"./index-oxIuDU2I.js";import{c as oe}from"./index-BdQq_4o_.js";import{c as C}from"./index-DW48STyt.js";import{u as V}from"./index-DUCbCopP.js";import{c as ye}from"./index-CT8sdSFl.js";import{u as Re}from"./index-CupLWLmI.js";import{u as Pe}from"./index-B1j0MSSG.js";import{u as _e}from"./index-C2EvL8HN.js";import{u as De}from"./index-CgFYJLXR.js";import{P as B}from"./index-BosE-V80.js";import{c as Ee}from"./index-C8g06de2.js";import"./bundle-mjs-BNe0Xlio.js";import"./_commonjsHelpers-CqkleIqs.js";import"./index-Dlnm4PWD.js";import"./index-CXj9eu-u.js";import"./index-ChhEEol8.js";var se=["PageUp","PageDown"],ae=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],ie={"from-left":["Home","PageDown","ArrowDown","ArrowLeft"],"from-right":["Home","PageDown","ArrowDown","ArrowRight"],"from-bottom":["Home","PageDown","ArrowDown","ArrowLeft"],"from-top":["Home","PageDown","ArrowUp","ArrowLeft"]},M="Slider",[U,Ce,je]=Ee(M),[le]=ye(M,[je]),[Ve,H]=le(M),ce=u.forwardRef((e,t)=>{const{name:r,min:n=0,max:s=100,step:l=1,orientation:o="horizontal",disabled:a=!1,minStepsBetweenThumbs:c=0,defaultValue:h=[n],value:S,onValueChange:i=()=>{},onValueCommit:m=()=>{},inverted:b=!1,form:y,...x}=e,p=u.useRef(new Set),f=u.useRef(0),v=o==="horizontal"?Me:Ne,[g=[],N]=Re({prop:S,defaultProp:h,onChange:w=>{var D;(D=[...p.current][f.current])==null||D.focus(),i(w)}}),z=u.useRef(g);function O(w){const R=Te(g,w);I(w,R)}function be(w){I(w,f.current)}function ve(){const w=z.current[f.current];g[f.current]!==w&&m(g)}function I(w,R,{commit:D}={commit:!1}){const W=Oe(l),L=Le(Math.round((w-n)/l)*l+n,W),A=oe(L,[n,s]);N((E=[])=>{const P=Be(E,A,R);if(ze(P,c*l)){f.current=P.indexOf(A);const X=String(P)!==String(E);return X&&D&&m(P),X?P:E}else return E})}return d.jsx(Ve,{scope:e.__scopeSlider,name:r,disabled:a,min:n,max:s,valueIndexToChangeRef:f,thumbs:p.current,values:g,orientation:o,form:y,children:d.jsx(U.Provider,{scope:e.__scopeSlider,children:d.jsx(U.Slot,{scope:e.__scopeSlider,children:d.jsx(v,{"aria-disabled":a,"data-disabled":a?"":void 0,...x,ref:t,onPointerDown:C(x.onPointerDown,()=>{a||(z.current=g)}),min:n,max:s,inverted:b,onSlideStart:a?void 0:O,onSlideMove:a?void 0:be,onSlideEnd:a?void 0:ve,onHomeKeyDown:()=>!a&&I(n,0,{commit:!0}),onEndKeyDown:()=>!a&&I(s,g.length-1,{commit:!0}),onStepKeyDown:({event:w,direction:R})=>{if(!a){const L=se.includes(w.key)||w.shiftKey&&ae.includes(w.key)?10:1,A=f.current,E=g[A],P=l*L*R;I(E+P,A,{commit:!0})}}})})})})});ce.displayName=M;var[de,ue]=le(M,{startEdge:"left",endEdge:"right",size:"width",direction:1}),Me=u.forwardRef((e,t)=>{const{min:r,max:n,dir:s,inverted:l,onSlideStart:o,onSlideMove:a,onSlideEnd:c,onStepKeyDown:h,...S}=e,[i,m]=u.useState(null),b=V(t,v=>m(v)),y=u.useRef(void 0),x=Pe(s),p=x==="ltr",f=p&&!l||!p&&l;function _(v){const g=y.current||i.getBoundingClientRect(),N=[0,g.width],O=$(N,f?[r,n]:[n,r]);return y.current=g,O(v-g.left)}return d.jsx(de,{scope:e.__scopeSlider,startEdge:f?"left":"right",endEdge:f?"right":"left",direction:f?1:-1,size:"width",children:d.jsx(me,{dir:x,"data-orientation":"horizontal",...S,ref:b,style:{...S.style,"--radix-slider-thumb-transform":"translateX(-50%)"},onSlideStart:v=>{const g=_(v.clientX);o==null||o(g)},onSlideMove:v=>{const g=_(v.clientX);a==null||a(g)},onSlideEnd:()=>{y.current=void 0,c==null||c()},onStepKeyDown:v=>{const N=ie[f?"from-left":"from-right"].includes(v.key);h==null||h({event:v,direction:N?-1:1})}})})}),Ne=u.forwardRef((e,t)=>{const{min:r,max:n,inverted:s,onSlideStart:l,onSlideMove:o,onSlideEnd:a,onStepKeyDown:c,...h}=e,S=u.useRef(null),i=V(t,S),m=u.useRef(void 0),b=!s;function y(x){const p=m.current||S.current.getBoundingClientRect(),f=[0,p.height],v=$(f,b?[n,r]:[r,n]);return m.current=p,v(x-p.top)}return d.jsx(de,{scope:e.__scopeSlider,startEdge:b?"bottom":"top",endEdge:b?"top":"bottom",size:"height",direction:b?1:-1,children:d.jsx(me,{"data-orientation":"vertical",...h,ref:i,style:{...h.style,"--radix-slider-thumb-transform":"translateY(50%)"},onSlideStart:x=>{const p=y(x.clientY);l==null||l(p)},onSlideMove:x=>{const p=y(x.clientY);o==null||o(p)},onSlideEnd:()=>{m.current=void 0,a==null||a()},onStepKeyDown:x=>{const f=ie[b?"from-bottom":"from-top"].includes(x.key);c==null||c({event:x,direction:f?-1:1})}})})}),me=u.forwardRef((e,t)=>{const{__scopeSlider:r,onSlideStart:n,onSlideMove:s,onSlideEnd:l,onHomeKeyDown:o,onEndKeyDown:a,onStepKeyDown:c,...h}=e,S=H(M,r);return d.jsx(B.span,{...h,ref:t,onKeyDown:C(e.onKeyDown,i=>{i.key==="Home"?(o(i),i.preventDefault()):i.key==="End"?(a(i),i.preventDefault()):se.concat(ae).includes(i.key)&&(c(i),i.preventDefault())}),onPointerDown:C(e.onPointerDown,i=>{const m=i.target;m.setPointerCapture(i.pointerId),i.preventDefault(),S.thumbs.has(m)?m.focus():n(i)}),onPointerMove:C(e.onPointerMove,i=>{i.target.hasPointerCapture(i.pointerId)&&s(i)}),onPointerUp:C(e.onPointerUp,i=>{const m=i.target;m.hasPointerCapture(i.pointerId)&&(m.releasePointerCapture(i.pointerId),l(i))})})}),fe="SliderTrack",pe=u.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=H(fe,r);return d.jsx(B.span,{"data-disabled":s.disabled?"":void 0,"data-orientation":s.orientation,...n,ref:t})});pe.displayName=fe;var F="SliderRange",ge=u.forwardRef((e,t)=>{const{__scopeSlider:r,...n}=e,s=H(F,r),l=ue(F,r),o=u.useRef(null),a=V(t,o),c=s.values.length,h=s.values.map(m=>xe(m,s.min,s.max)),S=c>1?Math.min(...h):0,i=100-Math.max(...h);return d.jsx(B.span,{"data-orientation":s.orientation,"data-disabled":s.disabled?"":void 0,...n,ref:a,style:{...e.style,[l.startEdge]:S+"%",[l.endEdge]:i+"%"}})});ge.displayName=F;var Y="SliderThumb",he=u.forwardRef((e,t)=>{const r=Ce(e.__scopeSlider),[n,s]=u.useState(null),l=V(t,a=>s(a)),o=u.useMemo(()=>n?r().findIndex(a=>a.ref.current===n):-1,[r,n]);return d.jsx(Ie,{...e,ref:l,index:o})}),Ie=u.forwardRef((e,t)=>{const{__scopeSlider:r,index:n,name:s,...l}=e,o=H(Y,r),a=ue(Y,r),[c,h]=u.useState(null),S=V(t,_=>h(_)),i=c?o.form||!!c.closest("form"):!0,m=De(c),b=o.values[n],y=b===void 0?0:xe(b,o.min,o.max),x=Ke(n,o.values.length),p=m==null?void 0:m[a.size],f=p?ke(p,y,a.direction):0;return u.useEffect(()=>{if(c)return o.thumbs.add(c),()=>{o.thumbs.delete(c)}},[c,o.thumbs]),d.jsxs("span",{style:{transform:"var(--radix-slider-thumb-transform)",position:"absolute",[a.startEdge]:`calc(${y}% + ${f}px)`},children:[d.jsx(U.ItemSlot,{scope:e.__scopeSlider,children:d.jsx(B.span,{role:"slider","aria-label":e["aria-label"]||x,"aria-valuemin":o.min,"aria-valuenow":b,"aria-valuemax":o.max,"aria-orientation":o.orientation,"data-orientation":o.orientation,"data-disabled":o.disabled?"":void 0,tabIndex:o.disabled?void 0:0,...l,ref:S,style:b===void 0?{display:"none"}:e.style,onFocus:C(e.onFocus,()=>{o.valueIndexToChangeRef.current=n})})}),i&&d.jsx(Se,{name:s??(o.name?o.name+(o.values.length>1?"[]":""):void 0),form:o.form,value:b},n)]})});he.displayName=Y;var Ae="RadioBubbleInput",Se=u.forwardRef(({__scopeSlider:e,value:t,...r},n)=>{const s=u.useRef(null),l=V(s,n),o=_e(t);return u.useEffect(()=>{const a=s.current;if(!a)return;const c=window.HTMLInputElement.prototype,S=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==t&&S){const i=new Event("input",{bubbles:!0});S.call(a,t),a.dispatchEvent(i)}},[o,t]),d.jsx(B.input,{style:{display:"none"},...r,ref:l,defaultValue:t})});Se.displayName=Ae;function Be(e=[],t,r){const n=[...e];return n[r]=t,n.sort((s,l)=>s-l)}function xe(e,t,r){const l=100/(r-t)*(e-t);return oe(l,[0,100])}function Ke(e,t){return t>2?`Value ${e+1} of ${t}`:t===2?["Minimum","Maximum"][e]:void 0}function Te(e,t){if(e.length===1)return 0;const r=e.map(s=>Math.abs(s-t)),n=Math.min(...r);return r.indexOf(n)}function ke(e,t,r){const n=e/2,l=$([0,50],[0,n]);return(n-l(t)*r)*r}function He(e){return e.slice(0,-1).map((t,r)=>e[r+1]-t)}function ze(e,t){if(t>0){const r=He(e);return Math.min(...r)>=t}return!0}function $(e,t){return r=>{if(e[0]===e[1]||t[0]===t[1])return t[0];const n=(t[1]-t[0])/(e[1]-e[0]);return t[0]+n*(r-e[0])}}function Oe(e){return(String(e).split(".")[1]||"").length}function Le(e,t){const r=Math.pow(10,t);return Math.round(e*r)/r}var Ue=ce,Fe=pe,Ye=ge,$e=he;function j({className:e,defaultValue:t,value:r,min:n=0,max:s=100,...l}){const o=r??t??[n,s];return d.jsxs(Ue,{"data-slot":"slider",defaultValue:t,...r!==void 0?{value:r}:{},min:n,max:s,className:we("relative flex w-full touch-none select-none items-center",e),...l,children:[d.jsx(Fe,{"data-slot":"slider-track",className:"relative h-1.5 w-full grow overflow-hidden rounded-full bg-primary/40",children:d.jsx(Ye,{"data-slot":"slider-range",className:"absolute h-full bg-primary"})}),Array.from({length:o.length},(a,c)=>d.jsx($e,{"data-slot":"slider-thumb",className:"block size-4 rounded-full border-2 border-primary bg-background shadow transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50"},c))]})}try{j.displayName="Slider",j.__docgenInfo={description:"",displayName:"Slider",props:{asChild:{defaultValue:null,description:"",name:"asChild",required:!1,type:{name:"boolean"}}}}}catch{}const ut={title:"Primitives/Slider",component:j,tags:["autodocs"],parameters:{layout:"padded"}},K={args:{defaultValue:[50],max:100,step:1},render:e=>d.jsx(j,{...e,className:"w-full"})},T={args:{defaultValue:[25,75],max:100,step:1},render:e=>d.jsx(j,{...e,className:"w-full"})},k={args:{defaultValue:[50],max:100,step:10},render:e=>d.jsx(j,{...e,className:"w-full"})};var G,q,J;K.parameters={...K.parameters,docs:{...(G=K.parameters)==null?void 0:G.docs,source:{originalSource:`{
  args: {
    defaultValue: [50],
    max: 100,
    step: 1
  },
  render: args => <Slider {...args} className="w-full" />
}`,...(J=(q=K.parameters)==null?void 0:q.docs)==null?void 0:J.source}}};var Q,Z,ee;T.parameters={...T.parameters,docs:{...(Q=T.parameters)==null?void 0:Q.docs,source:{originalSource:`{
  args: {
    defaultValue: [25, 75],
    max: 100,
    step: 1
  },
  render: args => <Slider {...args} className="w-full" />
}`,...(ee=(Z=T.parameters)==null?void 0:Z.docs)==null?void 0:ee.source}}};var te,re,ne;k.parameters={...k.parameters,docs:{...(te=k.parameters)==null?void 0:te.docs,source:{originalSource:`{
  args: {
    defaultValue: [50],
    max: 100,
    step: 10
  },
  render: args => <Slider {...args} className="w-full" />
}`,...(ne=(re=k.parameters)==null?void 0:re.docs)==null?void 0:ne.source}}};const mt=["Default","Range","WithSteps"];export{K as Default,T as Range,k as WithSteps,mt as __namedExportsOrder,ut as default};
